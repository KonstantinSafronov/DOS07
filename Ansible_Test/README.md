# AnsibleTest

>##    1. Опишите принцип работы ansible/ сравнить с остальными системами
> Ansible - система управления конфигурациями ОС. Принцип работы – проверяет состояние (конфигурацию)  указанной (-ных) системы и приводит в соответствие с описанной конфигурацией. В более простом случае возможно выполнение единичных команд(модулей).


>##    2. Какие основные компоненты в ansible?

>Inventory файлы, playbook-и.
Факты, задачи, модули, переменные

>##    3. Что такое ansible playbook?
>Файл описывающий необходимое состояние конфигурации системы.


>##    4. Опишите принцип идемпотентности
>В результате выполнения процесса достигается один и тот же результат.
В Случае с Ansible  после выполнения плейбука конфигурация системы должна соответствовать описанной в плейбуке при каждом выполнении.


>##    5. Как зашифровать ansible плейбук?
>ansible-vault encrypt <Playbook>

 >##   6. Можно ли использовать переменные окружения в ansible, как это сделать?
>Объявить в самом плейбуке с помощью модуля vars либо указать в отдельном файле который после использовать при запуске плейбука.

 >##   7. Что такое ad-hoc команда?
>Единичная команда ansible запущенная в коммандной строке.

 >##   8. Можно ли создать свой модуль? Каким образом?
>Можно, написать на python.
https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_general.html


 >##   9. Что такое ansible galaxy?
 > Публичный репозиторий, в котором размещаеют роли Ansible


>##    10. Описать отличие плейбука, роли и модуля
>Модуль – набор определенных операций,
Плейбук – описание конфигурации системы, и комманд модулей для приведения системы в требуемое состояние.
Роль – унификация плейбука для определенной конфигурации, возможно объединение нескольких плейбуков в одной роли.

>##    11. Можно ли развернуть виртуальную машину либо инстанс, используя ansible? если можно - опишите процесс
>Ansible – система для конфигурации уже созданных систем. Однако Если в уже созданной системе описать наличие “гипервизора” то в последнем можно создать инстанс (пример – установка докера и создание контейнеров)

>##    12. Что такое tasks и handler  в ansible? 
>Tasks – раздел\задача в плейбуке проверки и приведения конфигурации системы в требуемое состояние
handler – также аздел\задача в плейбуке но которая будет выполняться только при успешном завершении другой task-и в плейбуке.


>##    13. В чем отличие ansible plugin от модуля?
>Модуль используется в плейбуке, плагин в файле динамической инвентаризации
Модуль для выполнения определенной задачи в самом ансибл, плагин для расхирения возможностей ансибла – взаимодействия со сторонними сервисами.

>##    14. Создать ansible playbook для копирования нескольких файлов, имена файлов с путем указываем в командной строке как параметр.

> Playbook example:
```
---
- name: Ansible Test
  hosts: all       
  vars:
    var_from: "/srv/myfiles"
    var_dest: "/etc"


  tasks:
  - name: Copy files
    ansible.builtin.copy:
      src: {{ var_from }}
      dest: {{ var_dest }}
      owner: foo
      group: foo
      mode: '0644'

~~~
